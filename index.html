<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>firyuen&#39;Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="firyuen&#39;Blog">
<meta property="og:url" content="https://firyuen.github.io/index.html">
<meta property="og:site_name" content="firyuen&#39;Blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="firyuen&#39;Blog">
  
  
    <link rel="icon" href="/favicon.png">
  
  <!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'> -->
  <!-- <link href="//fonts.googleapis.com/css?family=Source+Code+Pro:400,700" rel="stylesheet" type="text/css"> -->
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro:400,700" rel="stylesheet" type="text/css">
  <link href='//fonts.googleapis.com/css?family=Open+Sans:300,600' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/style.css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <a href="/" class="logo">firyuen&#39;Blog</a>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about/index.html">About</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://firyuen.github.io"></form>
        </div>
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
        
        
          <a id="nav-github-link" class="nav-icon" href="https://github.com/ppoffice/hexo-theme-alex" title="Fork me on GitHub"></a>
        
      </nav>
    </div>
  </div>
</header>
      <nav id="mobile-nav" class="off">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about/index.html" class="mobile-nav-link">About</a>
  
  <div id="search-form-wrap-mobile">
    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://firyuen.github.io"></form>
  </div>
</nav>
      <div class="outer">
        
          <aside id="sidebar">
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">14</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/03/01/wifiPineapple救砖记/">wifiPineapple救砖记</a>
          </li>
        
          <li>
            <a href="/2019/02/15/解决新版本-Chrome-提示-DOMException-The-play-request-was-interrupted/">解决新版本 Chrome 提示 DOMException: The play() request was interrupted</a>
          </li>
        
          <li>
            <a href="/2019/01/20/Stylus两分钟入坑/">Stylus两分钟入坑</a>
          </li>
        
          <li>
            <a href="/2019/01/18/Gulp学习笔记/">Gulp学习笔记</a>
          </li>
        
          <li>
            <a href="/2018/11/16/背景图片虚化css/">背景图片虚化css</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">links</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://hexo.io">Hexo</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
        <section id="main">
  
    <article id="post-wifiPineapple救砖记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/01/wifiPineapple救砖记/" class="article-date">
  <time datetime="2019-03-01T07:55:40.000Z" itemprop="datePublished">2019-03-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/01/wifiPineapple救砖记/">wifiPineapple救砖记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>去年对渗透测试很有兴趣的时候买了一个<code>wifipineapple</code>然后就开始了吃灰，昨晚拿出来玩了一会儿，发现二道子卖家同步更新到了官方2.4.2的版本，所以就想着升级一下，也是手贱，升级前想着用编程器把之前的固件保存下来，结果第二次用编程器，想偷懒没拆下flash就直接上了编程器读取固件，结果噩梦开始了。</p>
<p>不拆下flash直接上编程器，编程器上电的时候也带着soc一起工作了，结果就是编程器始终无法正确读取到flash的内容，想着既然没办法保存那就算了，然后就把主控又放了回去，结果就开不开机了，开机串口没打印了，顿时就慌了。</p>
<p>没办法只能把flash拆下来，用编程器重新读取了下，这次就能正常读取数据了，<br>下次一定注意 <em>使用编程器的时候一定要把flash拆下来</em> </p>
<p>现在重新保存编程器的固件，dump出16M的文件，用winhex读取，预计前面的uboot出现了问题，导致无法成功引导，在刷了几个固件再焊到主控上的过程中，因为烙铁操作太暴力还把焊盘弄掉了，看来买风枪需要提上日程了。</p>
<p><img src="/img/IMG_028.JPG" alt="焊盘掉了两个"></p>
<p>查了下winbond的flash的datasheet，发现其中一个是wp接口，路由器上肯定是接个下拉或者直接接地的，另外一个写的接口，这个口肯定不能少，用万用表打了一下，在板子反面找到了对应的过口，飞线接上，也不敢再这么瞎搞了，找到一片能兼容sop8的焊盘飞线搞定，热熔胶还正好用完了，只好双面胶固定焊点。</p>
<p><img src="/img/IMG_0281.JPG" alt="双面胶大法"></p>
<p>查了主控是ar9331，原来跟我的wr720n是一个主控，以前啥都不知道就瞎买，现在终于懂了些，以后这些玩意儿应该不会被坑太多了。。</p>
<p>反正就是刷了很多ar9331的uboot，但是都没办法成功引导板子，最后想到了<a href="https://www.right.com.cn/forum/thread-161906-1-1.html" target="_blank" rel="noopener"><code>breed</code></a>，breed 是支持ar9331的，在下载ar9331的通用引导文件，随后在winhex中新建一个16m的空白文件，先把所有的block都填充为FF(CTRL+A –&gt; CTRAL+L),从<code>00000000</code>地址开始写写入breed，写128kb，随后在<code>20000</code>的偏移量地址开始写wifipineaplle的升级包(<a href="http://zy-link.xyz:8001/nano/fw/)，升级包是一开始路由器还能正常工作的时候用路由器连接360wifi然后wireshark抓包抓到的，最后到偏移量`FF0000`地址" target="_blank" rel="noopener">http://zy-link.xyz:8001/nano/fw/)，升级包是一开始路由器还能正常工作的时候用路由器连接360wifi然后wireshark抓包抓到的，最后到偏移量`FF0000`地址</a></p>
<pre><code>*4M固件应写在偏移量3F0000 
*8M固件应写在偏移量7F0000 
*16M固件应写在偏移量FF0000
</code></pre><p>然后用一开始提取出的art文件写入最后64k文件，最后保存这个16M的固件文件，保存后使用编程器写入到flash中，把flash重新连接主控，插上串口，上电，开机，看到窗口又在走字，就知道应该是救砖成功了。</p>
<p><img src="/img/Snipaste_2019-03-01_17-44-21.png" alt="串口打印"></p>
<p> 至此，wifipineapple救砖成功。</p>
<p> 接下来想到既然是ar9331主控，那我的wr720n是不是也可以使用wifipineapple的固件？<br> 不过目前有个问题就是这个固件是16m的但是我的wr720n只有8m的内置存储，需要一个16m的flash也应该容易，淘宝2块钱，但是周末就快到了，是时候再去一趟花鸟市场捡捡垃圾了，说不定能捡到一个呢。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://firyuen.github.io/2019/03/01/wifiPineapple救砖记/" data-id="cjspvm40g000i4dc98f0w0b39" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-解决新版本-Chrome-提示-DOMException-The-play-request-was-interrupted" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/02/15/解决新版本-Chrome-提示-DOMException-The-play-request-was-interrupted/" class="article-date">
  <time datetime="2019-02-15T11:51:39.000Z" itemprop="datePublished">2019-02-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/02/15/解决新版本-Chrome-提示-DOMException-The-play-request-was-interrupted/">解决新版本 Chrome 提示 DOMException: The play() request was interrupted</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>解决新版本 Chrome 提示 DOMException: The play() request was interrupted</p>
</blockquote>
<p>大概在一些新版本的浏览器中，我们是用 audio 或者 video 进行媒体资源播放的时候，可能会在控制台看到这个输出:</p>
<blockquote>
<p>Uncaught (in promise) DOMException: The play() request was interrupted by a call to pause().  </p>
</blockquote>
<p>OR</p>
<blockquote>
<p>Uncaught (in promise) DOMException: The play() request was interrupted by a new load request. </p>
</blockquote>
<p>触发方式：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">"video"</span> <span class="attr">preload</span>=<span class="string">"none"</span> <span class="attr">src</span>=<span class="string">"https://example.com/file.mp4"</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">  </span></span><br><span class="line"><span class="javascript">  video.play(); <span class="comment">// &lt;-- This is asynchronous!</span></span></span><br><span class="line"><span class="undefined">  video.pause();</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>上面的代码会造成下面的异常错误:</p>
<blockquote>
<p>Uncaught (in promise) DOMException: The play() request was interrupted by a call to pause().  </p>
</blockquote>
<p>上面的 video 的 设置了 <code>preload = &#39;none&#39;</code>，视频并没有提前加载，因此在触发 <code>video.play()</code> 并不能立即播放。</p>
<p>从 Chrome 50 的版本后 触发 <code>video.play()</code> 会返回一个 Promise 对象 ，如果播放成功，则 Promise 会触发，然后 playing 事件同时也会触发。如果播放失败，则会触发 Promise 的 reject,参数会带有错误的信息。</p>
<p>现在触发的顺序：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. video.play() 异步的去加载 video 内容，</span><br><span class="line">2. video.pause() 中断视频的加载，因为视频并没有就绪</span><br><span class="line">3. video.play() 异步的 rejects</span><br></pre></td></tr></table></figure></p>
<p>因为我们并没有处理 video.play 的 Promise ，然后一个错误的信息会暴露出来。</p>
<p><strong>video.pause() 不光会打断一个视频的播放，而且会完全重置一个视频的播放的状态，包括 buffer 和 video.load</strong></p>
<p>修复<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">"video"</span> <span class="attr">preload</span>=<span class="string">"none"</span> <span class="attr">src</span>=<span class="string">"https://example.com/file.mp4"</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">  </span></span><br><span class="line"><span class="javascript">  <span class="comment">// Show loading animation.</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">var</span> playPromise = video.play();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">if</span> (playPromise !== <span class="literal">undefined</span>) &#123;</span></span><br><span class="line"><span class="javascript">    playPromise.then(<span class="function"><span class="params">_</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// 这个时候可以安全的暂停</span></span></span><br><span class="line"><span class="undefined">      video.pause();</span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="javascript">    .catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined">  &#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>如今现在 HTMLMediaElement.play() 支持返回 Promise 已经在 Chrome, Firefox, Opera, 以及 Safari Edge 实现了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://firyuen.github.io/2019/02/15/解决新版本-Chrome-提示-DOMException-The-play-request-was-interrupted/" data-id="cjspvm40o000n4dc92tz2t90z" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Stylus两分钟入坑" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/20/Stylus两分钟入坑/" class="article-date">
  <time datetime="2019-01-20T05:07:33.000Z" itemprop="datePublished">2019-01-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/20/Stylus两分钟入坑/">Stylus两分钟入坑</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>下面中规中矩的CSS代码是否看得眼睛生茧了？<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font</span>: <span class="number">12px</span> Helvetica, Arial, sans-serif;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.button</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">-moz-border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>好，去掉花括号<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span></span><br><span class="line">  <span class="selector-tag">font</span>: 12<span class="selector-tag">px</span> <span class="selector-tag">Helvetica</span>, <span class="selector-tag">Arial</span>, <span class="selector-tag">sans-serif</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.button</span></span><br><span class="line">  <span class="selector-tag">-webkit-border-radius</span>: 5<span class="selector-tag">px</span>;</span><br><span class="line">  <span class="selector-tag">-moz-border-radius</span>: 5<span class="selector-tag">px</span>;</span><br><span class="line">  <span class="selector-tag">border-radius</span>: 5<span class="selector-tag">px</span>;</span><br></pre></td></tr></table></figure></p>
<p>去掉分号<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span></span><br><span class="line">  <span class="selector-tag">font</span>: 12<span class="selector-tag">px</span> <span class="selector-tag">Helvetica</span>, <span class="selector-tag">Arial</span>, <span class="selector-tag">sans-serif</span></span><br><span class="line">  </span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.button</span></span><br><span class="line">  <span class="selector-tag">-webkit-border-radius</span>: 5<span class="selector-tag">px</span></span><br><span class="line">  <span class="selector-tag">-moz-border-radius</span>: 5<span class="selector-tag">px</span></span><br><span class="line">  <span class="selector-tag">border-radius</span>: 5<span class="selector-tag">px</span></span><br></pre></td></tr></table></figure></p>
<p>还有你冒号<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span></span><br><span class="line">  <span class="selector-tag">font</span> 12<span class="selector-tag">px</span> <span class="selector-tag">Helvetica</span>, <span class="selector-tag">Arial</span>, <span class="selector-tag">sans-serif</span></span><br><span class="line">  </span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.button</span></span><br><span class="line">  <span class="selector-tag">-webkit-border-radius</span> 5<span class="selector-tag">px</span></span><br><span class="line">  <span class="selector-tag">-moz-border-radius</span> 5<span class="selector-tag">px</span></span><br><span class="line">  <span class="selector-tag">border-radius</span> 5<span class="selector-tag">px</span></span><br></pre></td></tr></table></figure></p>
<p>来点函数<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">border-radius</span>()</span><br><span class="line">  <span class="selector-tag">-webkit-border-radius</span> <span class="selector-tag">arguments</span></span><br><span class="line">  <span class="selector-tag">-moz-border-radius</span> <span class="selector-tag">arguments</span></span><br><span class="line">  <span class="selector-tag">border-radius</span> <span class="selector-tag">arguments</span></span><br><span class="line">  </span><br><span class="line"><span class="selector-tag">body</span></span><br><span class="line">  <span class="selector-tag">font</span> 12<span class="selector-tag">px</span> <span class="selector-tag">Helvetica</span>, <span class="selector-tag">Arial</span>, <span class="selector-tag">sans-serif</span></span><br><span class="line">  </span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.button</span></span><br><span class="line">  <span class="selector-tag">border-radius</span>(5<span class="selector-tag">px</span>)</span><br></pre></td></tr></table></figure></p>
<p>加点混合书写<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">border-radius</span>()</span><br><span class="line">  <span class="selector-tag">-webkit-border-radius</span> <span class="selector-tag">arguments</span></span><br><span class="line">  <span class="selector-tag">-moz-border-radius</span> <span class="selector-tag">arguments</span></span><br><span class="line">  <span class="selector-tag">border-radius</span> <span class="selector-tag">arguments</span></span><br><span class="line">  </span><br><span class="line"><span class="selector-tag">body</span></span><br><span class="line">  <span class="selector-tag">font</span> 12<span class="selector-tag">px</span> <span class="selector-tag">Helvetica</span>, <span class="selector-tag">Arial</span>, <span class="selector-tag">sans-serif</span></span><br><span class="line">  </span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.button</span></span><br><span class="line">  <span class="selector-tag">border-radius</span> 5<span class="selector-tag">px</span></span><br></pre></td></tr></table></figure></p>
<p>加点模块化<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">import</span> <span class="string">'vendor'</span></span><br><span class="line"></span><br><span class="line">body</span><br><span class="line">  font <span class="number">12px</span> Helvetica, Arial, sans-serif</span><br><span class="line">  </span><br><span class="line">a.button</span><br><span class="line">  border-radius <span class="number">5px</span></span><br></pre></td></tr></table></figure></p>
<p>甚至是语言函数<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">sum</span>(<span class="selector-tag">nums</span>...)</span><br><span class="line">  sum = 0</span><br><span class="line">  sum += n for n in nums</span><br><span class="line">  </span><br><span class="line"><span class="selector-tag">sum</span>(1 2 3 4)</span><br><span class="line">// =&gt; 10</span><br></pre></td></tr></table></figure></p>
<p>好了，你得到了Stylus</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://firyuen.github.io/2019/01/20/Stylus两分钟入坑/" data-id="cjspvm3zw000a4dc9yv0ue56a" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Gulp学习笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/18/Gulp学习笔记/" class="article-date">
  <time datetime="2019-01-18T03:21:32.000Z" itemprop="datePublished">2019-01-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/18/Gulp学习笔记/">Gulp学习笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>个人理解gulp是前端开发过程中对代码进行构建的工具，是自动化项目的构建利器，可以方便我们进行项目开发的工具。</p>
<blockquote>
<p>她能自动化地完成<br>javascript/coffee/sass/less/html/image/css 等文件的的测试、检查、合并、压缩、格式化、浏览器自动刷新、部署文件生成，并监听文件在改动后重复指定的这些步骤。</p>
</blockquote>
<ol>
<li>安装<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g gulp</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>一般除了安装gulp外还会安装一些gulp的其他插件比如<code>gulp-uglify</code>,<code>gulp-contact</code>…</p>
<ol start="2">
<li>gulpfile.js</li>
</ol>
<p>gulpfile.js是gulp的配置文件，gulp根据gulpfile.js来执行任务</p>
<p>在项目根目录创建一个gulpfile.js<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"><span class="keyword">var</span> uglify = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'uglify'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'start job!'</span>)</span><br><span class="line">  gulp.src(<span class="string">'js/app.js'</span>)</span><br><span class="line">    .pipe(uglify())</span><br><span class="line">    .pipe(gulp.dest(<span class="string">'build'</span>))</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>上面代码中，gulpfile.js加载gulp和gulp-uglify模块之后，使用gulp模块的task方法指定任务minify。task方法有两个参数，第一个是任务名，第二个是任务函数。在任务函数中，使用gulp模块的src方法，指定所要处理的文件，然后使用pipe方法，将上一步的输出转为当前的输入，进行链式处理。</p>
<p>task方法的回调函数使用了两次pipe方法，也就是说做了两种处理。第一种处理是使用gulp-uglify模块，压缩源码；第二种处理是使用gulp模块的dest方法，将上一步的输出写入本地文件，这里是build.js（代码中省略了后缀名js）。</p>
<p>执行minify任务时，就在项目目录中执行<code>gulp uglify</code></p>
<ol start="3">
<li><code>task()</code></li>
</ol>
<p>gulp新建任务的格式<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(name[, deps], fn)</span><br></pre></td></tr></table></figure></p>
<p><code>name</code> 任务名字，类型：字符串；</p>
<p><code>deps</code> 当前任务依赖的任务，这些任务会在你当前任务运行之前完成，类型：Array；例如<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'mytask'</span>, [<span class="string">'array'</span>, <span class="string">'of'</span>, <span class="string">'task'</span>], <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// do something</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>上面指定的mytask任务由三个指定的任务组成执行mytask任务时会并发执行array，of，task三个任务，所以是<code>异步调用</code></p>
<p>此外<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'default'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// do  default job</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>是执行默认任务，在项目目录中输入<code>gulp</code>就会执行</p>
<ol start="4">
<li><code>wacth()</code></li>
</ol>
<p>watch方法用于指定需要监视的文件。一旦这些文件发生变动，就运行指定任务。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'watch'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   gulp.watch(<span class="string">'templates/*.tmpl.html'</span>, [<span class="string">'build'</span>]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>上面代码指定，一旦templates目录中的模板文件发生变化，就运行build任务。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">watch方法也可以用回调函数，代替指定的任务。</span><br><span class="line">gulp.watch(<span class="string">'templates/*.tmpl.html'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'file changed'</span>)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ol start="5">
<li><code>gulp-load-plugins</code>模块<br>一般情况下，gulpfile.js中的模块需要一个个加载。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</span><br><span class="line">    jshint = <span class="built_in">require</span>(<span class="string">'gulp-jshint'</span>),</span><br><span class="line">    uglify = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>),</span><br><span class="line">    concat = <span class="built_in">require</span>(<span class="string">'gulp-concat'</span>);</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'js'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> gulp.src(<span class="string">'js/*.js'</span>)</span><br><span class="line">      .pipe(jshint())</span><br><span class="line">      .pipe(jshint.reporter(<span class="string">'default'</span>))</span><br><span class="line">      .pipe(uglify())</span><br><span class="line">      .pipe(concat(<span class="string">'app.js'</span>))</span><br><span class="line">      .pipe(gulp.dest(<span class="string">'build'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>上面代码中，除了gulp模块以外，还加载另外三个模块。</p>
<p>这种一一加载的写法，比较麻烦。使用gulp-load-plugins模块，可以加载package.json文件中所有的gulp模块。上面的代码用gulp-load-plugins模块改写，就是下面这样。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>),</span><br><span class="line">    gulpLoadPlugins = <span class="built_in">require</span>(<span class="string">'gulp-load-plugins'</span>),</span><br><span class="line">    plugins = gulpLoadPlugins();</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'js'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> gulp.src(<span class="string">'js/*.js'</span>)</span><br><span class="line">      .pipe(plugins.jshint())</span><br><span class="line">      .pipe(plugins.jshint.reporter(<span class="string">'default'</span>))</span><br><span class="line">      .pipe(plugins.uglify())</span><br><span class="line">      .pipe(plugins.concat(<span class="string">'app.js'</span>))</span><br><span class="line">      .pipe(gulp.dest(<span class="string">'build'</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>当然，这么做的前提是<code>node_modules</code>里要先安装依赖</p>
<ul>
<li><a href="http://gulpjs.com" target="_blank" rel="noopener">gulp官方网址</a></li>
<li><a href="http://gulpjs.com/plugins" target="_blank" rel="noopener">gulp插件地址</a></li>
<li><a href="https://github.com/gulpjs/gulp/blob/master/docs/API.md" target="_blank" rel="noopener">gulp 官方API</a></li>
<li><a href="http://www.ydcss.com/archives/424" target="_blank" rel="noopener">gulp 中文API</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://firyuen.github.io/2019/01/18/Gulp学习笔记/" data-id="cjspvm3ze00004dc9v5z4bmy8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-背景图片虚化css" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/16/背景图片虚化css/" class="article-date">
  <time datetime="2018-11-16T04:33:54.000Z" itemprop="datePublished">2018-11-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/16/背景图片虚化css/">背景图片虚化css</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#记录一下css的背景图片虚化模糊的样式</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cover"</span>&gt;</span></span><br><span class="line">  你好</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.cover</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">height</span>:<span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">border</span>:<span class="number">1px</span> solid red;</span><br><span class="line">  <span class="attribute">position</span>:relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.cover</span><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">  <span class="attribute">content</span>:<span class="string">''</span>;</span><br><span class="line">  <span class="attribute">position</span>:absolute;</span><br><span class="line">  <span class="attribute">top</span>:<span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: transparent <span class="built_in">url</span>(http://p1.music.126.net/_ZIyHUML8sXBvJXqLdQDOg==/105553116278617.jpg?imageView&amp;thumbnail=360x0&amp;quality=75&amp;tostatic=0) no-repeat center;</span><br><span class="line">  <span class="attribute">filter</span>:<span class="built_in">blur</span>(5px)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://firyuen.github.io/2018/11/16/背景图片虚化css/" data-id="cjspvm40l000m4dc9rxt1p38d" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-DOM学习总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/10/DOM学习总结/" class="article-date">
  <time datetime="2018-11-10T08:00:12.000Z" itemprop="datePublished">2018-11-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/10/DOM学习总结/">DOM学习总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="总结-我认为的重点"><a href="#总结-我认为的重点" class="headerlink" title="总结 + 我认为的重点"></a>总结 + 我认为的重点</h2><ol>
<li><p>搜索<code>归纳</code>,以掌握 DOM 基本思想</p>
</li>
<li><p>DOM 的作用 === 表示 HTML 文档</p>
</li>
<li><p>DOM提供的 API === 查询,修改 HTML 文档内容</p>
</li>
<li><p>输入<code>document.documentElement</code>来获得 html 节点</p>
</li>
<li><p>只有<code>Node.querySelectorAll()</code>返回的数组不是动态的</p>
</li>
<li><p><code>scrollHeight</code>返回的是高度</p>
</li>
<li><p><code>scrollTop</code>返回的是滚动高度</p>
<p>​</p>
</li>
</ol>
<h2 id="对-DOM-的一些理解"><a href="#对-DOM-的一些理解" class="headerlink" title="对 DOM 的一些理解"></a>对 DOM 的一些理解</h2><ol>
<li><p>DOM === 想象的树型结构模型.</p>
</li>
<li><p>DOM提供的API的作用就是修改或者查看 HTML 代码</p>
</li>
<li><p>DOM中的O指的是Object,他是在内存中,按照树型结构,通过构造函数(如Node,Element(翻译为标签比较好),Document三个构造函数),构造出对象,将 DOM 展现到内存中</p>
</li>
<li><p>DOM的D指的是Document,可以认为是 HTML 文档</p>
</li>
<li><p>DOM的M指的是Model,因为在 HTML结构 在内存中不好用笔表示,所以用一个模型来表示,这个模型就是树型结构</p>
</li>
<li><p>DOM 树型结构</p>
<p><img src="http://upload-images.jianshu.io/upload_images/5529438-1ac257c9d8bc180d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="未命名文件 (4).png"></p>
<ol>
<li><p>上图就是DOM,其中的每个节点(包括矩形节点和椭圆形节点)都是Node类型</p>
</li>
<li><p>document节点是Document构造函数的一个实例对象,document节点代表了整个文档(整个树型结构</p>
<p>,我们可以通过直接输入<code>document</code>来获取document节点</p>
</li>
<li><p>html节点是Element构造函数的一个实例对象,html节点又叫根节点</p>
<p>我们可以通过输入<code>document.documentElement</code>来获得html节点</p>
</li>
<li><p>椭圆形的文本节点:”你好,我叫饶家俊”  是Text构造函数的一个实例对象(文本节点是Text构造函数的一个实例对象)</p>
</li>
<li><p>Node,Element,Text的关系</p>
<p><img src="http://upload-images.jianshu.io/upload_images/5529438-9adcec2c1bf89f37.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="未命名文件 (5).png"></p>
</li>
</ol>
</li>
</ol>
<h2 id="DOM的归纳和总结"><a href="#DOM的归纳和总结" class="headerlink" title="DOM的归纳和总结"></a>DOM的归纳和总结</h2><ol>
<li><p>JavaScript将 HTML 文档渲染成 DOM 的树型结构.</p>
</li>
<li><p>有了树形结构, 第一件事情是什么?当然是获取DOM的节点啦!</p>
</li>
<li><p>获得节点的方法: </p>
<ol>
<li>直接在DOM寻找: <code>document.querySelector(AAAA)</code>和<code>document.querySelectorAll(AAAA)</code></li>
<li>通过节点关系获得节点<ol>
<li>兄弟关系</li>
<li>儿子关系</li>
<li>父关系</li>
</ol>
</li>
</ol>
</li>
<li><p>获得节点后,首先你要了解获得的节点是什么吧(比如你要知道节点是什么类型)?</p>
<p>了解节点:</p>
<ol>
<li><code>Node.nodeName</code></li>
<li><code>Node.nodeType</code></li>
<li><code>Node.textContent</code></li>
</ol>
</li>
<li><p>既然节点可以对应 HTML 文档的标签,那么我可不可以通过 DOM 来处理标签的属性?搜索<code>处理标签属性</code>知道所有属性的处理方法.</p>
</li>
<li><p>我可以通过 DOM 的 API 修改 DOM 的结构吗?</p>
<ol>
<li><p>创建节点</p>
<p><code>document.createElement(&quot;div&quot;)</code>生成Element节点</p>
<p><code>document.createTextNode(&quot;你好,我叫饶家俊&quot;)</code>生成Text节点</p>
</li>
<li><p>通过Node方法将创建的节点拼接到 DOM 中,搜索<code>Node方法</code></p>
</li>
</ol>
</li>
</ol>
<h2 id="Node类型的一些属性和方法"><a href="#Node类型的一些属性和方法" class="headerlink" title="Node类型的一些属性和方法"></a>Node类型的一些属性和方法</h2><h3 id="Node属性"><a href="#Node属性" class="headerlink" title="Node属性"></a>Node属性</h3><ol>
<li><strong>节点本身某些特征</strong>的属性:<ul>
<li><code>Node.nodeName</code>:<ul>
<li>看着DOM,如果你不确定某个Node节点是什么类型(不确定某个Node节点是矩形还是椭圆形)<ul>
<li>返回节点类型,重要的返回的值有<code>大写的HTML元素名</code>, <code>#text</code> ,<code>#document</code></li>
</ul>
</li>
</ul>
</li>
<li><code>Node.nodeType</code>:<ul>
<li>根据Node类型返回某些数字</li>
<li>Element类型,返回的数字是1</li>
<li>Text类型,返回的数字是3</li>
<li>Document类型,返回的数字的9</li>
</ul>
</li>
<li><code>Node.textContent</code><ul>
<li>返回的当前节点及其所有后代的文本内容</li>
<li>值得注意的是,因为<code>Node.textContent</code>是Node属性,所以文本节点也是有textContent的</li>
<li><code>innerHTML</code>和<code>innerText</code>是Element的属性,所以<code>TextNode.innerHTML</code>返回的是undefined,注意,并不是返回null</li>
</ul>
</li>
</ul>
</li>
<li>节点<strong>结构关系</strong>属性<ul>
<li>兄弟关系<ul>
<li><code>Node.nextSibling</code></li>
<li><code>Node.previousSibling</code></li>
</ul>
</li>
<li>儿子关系<ul>
<li><code>Node.childNodes</code></li>
<li><code>Node.firstChild</code></li>
<li><code>Node.lastChild</code></li>
</ul>
</li>
<li>父关系<ul>
<li><code>Node.parentNode</code></li>
</ul>
</li>
<li>上面的所有关系属性都可以获取到Text节点(除了父关系)</li>
<li><code>Node.childNodes</code>是最特殊的,它返回的是一个伪数组,里面是Node节点,并且伪数组内的值是动态变化的</li>
</ul>
</li>
</ol>
<h3 id="Node方法"><a href="#Node方法" class="headerlink" title="Node方法"></a>Node方法</h3><ul>
<li><code>Node.appendChild()</code></li>
<li><code>Node.hasChildNodes()</code></li>
<li><code>Node.cloneNode()</code></li>
<li><code>Node.insertBefore()</code></li>
<li><code>Node.removeChild()</code></li>
<li><code>Node.replaceChild()</code></li>
<li><code>Node.contains()</code></li>
<li><code>Node.isEqualNode()</code></li>
<li><code>Node.isSameNode()</code></li>
<li><p><code>Node.normalize()</code></p>
<p>​</p>
</li>
</ul>
<h2 id="document节点的一些属性和方法"><a href="#document节点的一些属性和方法" class="headerlink" title="document节点的一些属性和方法"></a>document节点的一些属性和方法</h2><h3 id="document属性"><a href="#document属性" class="headerlink" title="document属性"></a>document属性</h3><ol>
<li><p>用于指向其他节点(快捷获取某些特殊节点)的属性</p>
<ul>
<li><code>document.documentElement</code>指向 DOM 的 html节点</li>
<li><code>document.activeElement</code>指向获得焦点的那个节点</li>
</ul>
</li>
<li><p>返回文档特定元素的伪数组集合的属性</p>
<ul>
<li><code>document.links</code></li>
<li><code>document.forms</code></li>
<li><code>document.images</code></li>
<li><code>document.embeds</code></li>
<li>等等</li>
</ul>
</li>
<li><p>返回文档信息的属性</p>
<ul>
<li><code>document.location</code></li>
<li><code>document.readyState</code>返回的是当前文档的状态,</li>
<li>等等</li>
</ul>
<p>​</p>
</li>
</ol>
<h3 id="document获取节点方法"><a href="#document获取节点方法" class="headerlink" title="document获取节点方法"></a>document获取节点方法</h3><ol>
<li><p>方法:<code>document.querySelector(AAAA)</code>和<code>document.querySelectorAll(AAAA)</code></p>
</li>
<li><p>注意点:</p>
<ul>
<li>如果获取标签,那么直接AAAA === “div” 即可</li>
<li>第一个返回的是第一个符合CSS选择器AAAA条件的节点</li>
<li>第二个返回的是伪数组,里面包含了所有符合选择器的节点</li>
<li>第二个返回的结果不是动态的,不会实时反映元素节点的变化</li>
<li>这两个方法除了是 document ,还可以是某个 Node 节点</li>
<li>其他查找方法不学,没有必要</li>
</ul>
<p>​</p>
<p>​</p>
</li>
</ol>
<h3 id="document生成节点的方法"><a href="#document生成节点的方法" class="headerlink" title="document生成节点的方法"></a>document生成节点的方法</h3><ol>
<li><code>document.createElement(&quot;div&quot;)</code>生成Element节点</li>
<li><code>document.createTextNode(&quot;你好,我叫饶家俊&quot;)</code>生成Text节点</li>
</ol>
<h3 id="document事件相关的方法"><a href="#document事件相关的方法" class="headerlink" title="document事件相关的方法"></a>document事件相关的方法</h3><p>待续</p>
<h3 id="document写入方法"><a href="#document写入方法" class="headerlink" title="document写入方法"></a>document写入方法</h3><p>待续</p>
<h2 id="Element节点的一些属性和方法"><a href="#Element节点的一些属性和方法" class="headerlink" title="Element节点的一些属性和方法"></a>Element节点的一些属性和方法</h2><h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><ol>
<li><p>Element节点的属性处理</p>
<p>搜索<code>处理标签属性</code></p>
</li>
<li><p>盒模型相关属性</p>
<ol>
<li><p>获得整个页面高度:<code>document.documentElement.scrollHeight</code></p>
</li>
<li><p>获得整个浏览器视口的高度<code>document.documentElement.clientHeight // 不包括滚动条</code></p>
</li>
<li><p>某个Element距离<strong>浏览器视口</strong>左上角的坐标</p>
<ul>
<li><code>Element.getBoundingClientRect().left</code></li>
<li><code>Element.getBoundingClientRect().top</code></li>
</ul>
</li>
<li><p>某个Element距离<strong>整个网页</strong>左上角的坐标(,注意和上一个区别)</p>
<ul>
<li><code>Element.getBoundingClientRect().left + document.documentElement.scrollLeft</code></li>
<li><code>Element.getBoundingClientRect().top + document.documentElement.scrollTop</code></li>
</ul>
</li>
<li><p>下面的可以不看了,等到遇到问题的时候再看</p>
</li>
<li><p>容器 === 浏览器的可视区域</p>
</li>
<li><p><code>Node.clientHeight</code>,<code>Node.clientWidth</code></p>
<ul>
<li>某个 Element节点: 经过浏览器视口变化,返回节点所占据整个页面的高度和宽度(只有padding,margin和border不是)</li>
<li><code>html</code>节点: 返回浏览器视口宽度和高度</li>
</ul>
</li>
<li><p><code>Node.clientTop</code>,<code>Node.clientLeft</code></p>
<ul>
<li>返回节点的左边框(border)和上边框(border)的<strong>边框宽度</strong></li>
</ul>
</li>
<li><p><code>Noe.scrollHeight</code>, <code>Node.scrollWidth</code></p>
<ul>
<li>某个Element节点: 经过浏览器视口变化,返回节点所占据整个页面的高度和宽度(只有padding,margin和border不是)</li>
<li><code>html</code>节点: 经过浏览器视口变化,返回整个页面的高度和宽度</li>
</ul>
</li>
<li><p><code>Node.scrollLeft</code>, <code>Node.scrollTop</code></p>
</li>
</ol>
<ul>
<li>返回向下的滚动条和向右的滚动条滚动的像素</li>
</ul>
<ol start="11">
<li><code>Node.offsetHeight</code>, <code>Node.offsetWidth</code></li>
</ol>
<ul>
<li>某个 Element节点: 经过浏览器视口变化,返回节点所占据整个页面左上角距离右下角的宽度和高度,并且左上角是包括padding和border</li>
<li><code>html</code>节点: 经过浏览器视口变化,返回整个页面的高度和宽度</li>
</ul>
<ol start="12">
<li><code>Node.offsetLeft</code>,<code>Node.offsetTop</code></li>
</ol>
<ul>
<li><p>与父节点之间的宽度和高度???</p>
<p> ​</p>
</li>
</ul>
</li>
</ol>
<h2 id="处理标签属性"><a href="#处理标签属性" class="headerlink" title="处理标签属性"></a>处理标签属性</h2><ol>
<li><p>最正常,也最麻烦的写法</p>
<ol>
<li>增:<code>Node.setAttribute(&quot;属性名&quot;, &quot;属性值&quot;)</code></li>
<li>删: <code>Node.removeAttribute(&quot;属性名&quot;)</code></li>
<li>改: <code>Node.setAttribute(&quot;已经存在属性名&quot;, &quot;新属性值&quot;)</code></li>
<li>查:<code>Node.getAttribute(&quot;属性名&quot;)</code></li>
</ol>
</li>
<li><p>但是,对于标准属性来说,可以写的简单一点</p>
<ol>
<li>增:<code>Node.style = &quot;border: 10xp solid black&quot;</code></li>
<li>删: 无法简写</li>
<li>改: <code>Node.style = &quot;border: 10px solid red&quot;</code></li>
<li>查:<code>Node.style</code></li>
</ol>
</li>
<li><p>对于标准属性的 class 属性来说,因为它实在是太重要了,所以对于class属性也有一套方法:</p>
<ol>
<li><p>首先获得包含所有属性的伪数组<code>Node.classList</code></p>
</li>
<li><p>伪数组有以下方法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">add()：追加一个class。</span><br><span class="line">remove()：移除一个class。</span><br><span class="line">contains()：检查当前元素是否包含某个class。</span><br><span class="line">toggle()：将某个class移入或移出当前元素。</span><br><span class="line">item()：返回指定索引位置的class。其实用divTag.classList[1]这样更好</span><br><span class="line">toString()：将class的列表转为字符串。</span><br></pre></td></tr></table></figure>
<p>​</p>
<p>​</p>
</li>
</ol>
</li>
</ol>
<h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><ol>
<li>HTML 代码</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=parent&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>​    问: parent的值是多少? </p>
<ol start="2">
<li><p>HTMLCollection与NodeList的区别有   答案: AC</p>
<p>A. HTMLCollection实例对象的成员只能是Element节点，NodeList实例对象的成员可以包含其他节点。</p>
<p>B. HTMLCollection实例对象都是动态集合，节点的变化会实时反映在集合中。NodeList实例对象都是静态集合。</p>
<p>C. HTMLCollection实例对象可以用id属性或name属性引用节点元素，NodeList只能使用数字索引引用。</p>
</li>
<li><p>代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var parent1 = document.getElementById(&apos;parent1&apos;);</span><br><span class="line">parent1.childNodes.length // 2</span><br><span class="line">parent1.appendChild(document.createElement(&apos;div&apos;));</span><br><span class="line">parent1.childNodes.length // 请问现在 length 是多少  答案是3</span><br><span class="line"></span><br><span class="line">var allDiv = document.querySelectorAll(&apos;div&apos;)</span><br><span class="line">allDiv.length // 假设是 2</span><br><span class="line">document.body.appendChild(  document.createElement(&apos;div&apos;)  )</span><br><span class="line">allDiv.length // 请问现在 length 的值是多少？？？    答案是2</span><br></pre></td></tr></table></figure>
<p>答案的原因不是什么动态集合与静态集合,而是第一次的代码重新进行一次查询,而第二次的代码并没有重新进行查询,如果想让第二次的答案是3,那么把第二次的最后一句代码删去,并加上<code>allDiv = document.querySelectorAll(&#39;div&#39;);allDiv.length</code>就行了</p>
<p>​</p>
<p>​               </p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://firyuen.github.io/2018/11/10/DOM学习总结/" data-id="cjspvm411000o4dc99c6og2jt" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript中call-apply-bind-用法的理解" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/10/JavaScript中call-apply-bind-用法的理解/" class="article-date">
  <time datetime="2018-11-10T06:49:28.000Z" itemprop="datePublished">2018-11-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/11/10/JavaScript中call-apply-bind-用法的理解/">JavaScript中call(),apply(),bind()用法的理解</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>其实做题时并不了解这三个方法的用法,但是稍微学习了一下,网上的资料很丰富,马上就知道了,记录下,做个备忘.</p>
<h5 id="例1"><a href="#例1" class="headerlink" title="例1"></a>例1</h5><pre><code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">'张三'</span>,age=<span class="number">20</span>;</span><br><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    name:<span class="string">"李四"</span>,</span><br><span class="line">    objAge:<span class="keyword">this</span>.age,</span><br><span class="line">    myfun:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name+<span class="string">"年龄"</span>+<span class="keyword">this</span>.age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.objAge <span class="comment">//20</span></span><br><span class="line">obj.myFun() <span class="comment">//李四年龄undefined</span></span><br></pre></td></tr></table></figure>
</code></pre><h5 id="例2"><a href="#例2" class="headerlink" title="例2"></a>例2</h5><pre><code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"张三"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getName</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    consol.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getName() <span class="comment">//张三</span></span><br></pre></td></tr></table></figure>
</code></pre><p>比较一下这两者this 的差别，第一个打印里面的this 指向obj，第二个全局声明的getName()函数this 是window ；</p>
<ol>
<li><h5 id="call-、apply-、bind-都是用来重定义-this-这个对象的！"><a href="#call-、apply-、bind-都是用来重定义-this-这个对象的！" class="headerlink" title="call()、apply()、bind() 都是用来重定义 this 这个对象的！"></a>call()、apply()、bind() 都是用来重定义 this 这个对象的！</h5></li>
</ol>
<h5 id="如"><a href="#如" class="headerlink" title="如:"></a>如:</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"张三"</span>,age= <span class="number">20</span>;</span><br><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    name:<span class="string">"李四"</span>,</span><br><span class="line">    objAge:<span class="keyword">this</span>.age,</span><br><span class="line">    myfun:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name+<span class="string">"年龄"</span>+<span class="keyword">this</span>.age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj2=&#123;</span><br><span class="line">    name:<span class="string">"王二"</span>,</span><br><span class="line">    age:<span class="number">40</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.myFun.call(obj2)；　　　　<span class="comment">//王二年龄40</span></span><br><span class="line">obj.myFun.apply(obj2);　　　 <span class="comment">//王二年龄40</span></span><br><span class="line">obj.myFun.bind(obj2)();　　　<span class="comment">//王二年龄40</span></span><br></pre></td></tr></table></figure>
<p>以上出了bind 方法后面多了个()外 ，结果返回都一致！由此得出结论，bind() 返回的是一个新的函数，你必须调用它才会被执行</p>
<ol start="2">
<li><h5 id="对比call-apply-bind-传参的情况下"><a href="#对比call-apply-bind-传参的情况下" class="headerlink" title="对比call(),apply(),bind()传参的情况下"></a>对比call(),apply(),bind()传参的情况下</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">"张三"</span>,age= <span class="number">20</span>;</span><br><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    name:<span class="string">"李四"</span>,</span><br><span class="line">    objAge:<span class="keyword">this</span>.age,</span><br><span class="line">    myfun:<span class="function"><span class="keyword">function</span>(<span class="params">fm,t</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name+<span class="string">"年龄"</span>+<span class="keyword">this</span>.age,<span class="string">"来自"</span>+fm+<span class="string">"去往"</span>+t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj2=&#123;</span><br><span class="line">    name:<span class="string">"王二"</span>,</span><br><span class="line">    age:<span class="number">40</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">　　obj.myFun.call(obj2,<span class="string">'成都'</span>,<span class="string">'上海'</span>)；　　　　 <span class="comment">//王二 年龄 40  来自 成都去往上海</span></span><br><span class="line">　　obj.myFun.apply(obj2,[<span class="string">'成都'</span>,<span class="string">'上海'</span>]);        <span class="comment">//王二 年龄 40  来自 成都去往上海  </span></span><br><span class="line">　　obj.myFun.bind(obj2,<span class="string">'成都'</span>,<span class="string">'上海'</span>)();         <span class="comment">//王二 年龄 40  来自 成都去往上海</span></span><br><span class="line"> 　  obj.myFun.bind(obj2,[<span class="string">'成都'</span>,<span class="string">'上海'</span>])();　　 <span class="comment">//王二 年龄 40  来自 成都,上海去往undefined</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="从上面四个结果不难看出"><a href="#从上面四个结果不难看出" class="headerlink" title="从上面四个结果不难看出"></a>从上面四个结果不难看出</h5><ul>
<li>call 、bind 、 apply 这三个函数的第一个参数都是 this 的指向对象，第二个参数差别就来了：</li>
<li>call的参数是直接放进去的，第二第三第n个参数全都用逗号分隔，直接放到后面  obj.myFun.call(db,’成都’, … ,’string’ )；</li>
<li>apply的所有参数都必须放在一个数组里面传进去  obj.myFun.apply(obj2,[‘成都’, …, ‘string’ ]);</li>
<li>bind除了返回是函数以外，它的参数和call 一样。<br>　　　　<br>　　当然，三者的参数不限定是string类型，允许是各种类型，包括函数 , object 等等！</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://firyuen.github.io/2018/11/10/JavaScript中call-apply-bind-用法的理解/" data-id="cjspvm3zo00034dc9900nkkyj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-jQuery" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/07/22/jQuery/" class="article-date">
  <time datetime="2018-07-22T08:54:54.000Z" itemprop="datePublished">2018-07-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/07/22/jQuery/">jQuery不过如此</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>从DOM原生API开始说起,<br>想要获取页面上的一个节点，对它做一些为所欲为的事情我需要：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var 这个节点 = document.getElementById(&apos;这个节点的id&apos;)</span><br></pre></td></tr></table></figure></p>
<p>接下来，要是我想点击它，让他藏起来我需要：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">这个节点.onclick = function()&#123;</span><br><span class="line">    这个节点.style.display = &apos;none&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>我想看看这个节点有哪些兄弟元素：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function getSiblings(node)&#123;</span><br><span class="line">    var allChildren = node.parentNode.children</span><br><span class="line"></span><br><span class="line">    //这只是一个哈希，伪数组</span><br><span class="line">    var array = &#123;</span><br><span class="line">        length: 0</span><br><span class="line">    &#125;</span><br><span class="line">    for(let i =0;i &lt; allChildren.length;i++)&#123;</span><br><span class="line">        if(allChildren[i] !== node)&#123;</span><br><span class="line">            array[array.length] = allChildren[i]</span><br><span class="line">            array.length +=1</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return array</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>或者想给这个节点添加多个Class<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function addClass(node,classes)&#123;</span><br><span class="line">    for(let key in classes)&#123;</span><br><span class="line">        var value = classes[key]</span><br><span class="line">        if(value)&#123;</span><br><span class="line">            node.classList.add(key)</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            node.classList.remove(key)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
        
          <p class="article-more-link">
            <a href="/2018/07/22/jQuery/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://firyuen.github.io/2018/07/22/jQuery/" data-id="cjspvm403000e4dc98mk7jo5g" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jQuery/">jQuery</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-js里的对象" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/18/js里的对象/" class="article-date">
  <time datetime="2018-06-18T06:50:58.000Z" itemprop="datePublished">2018-06-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/18/js里的对象/">js里的对象</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h5 id="什么是标准库"><a href="#什么是标准库" class="headerlink" title="什么是标准库?"></a>什么是标准库?</h5><ul>
<li><p>js的内存里面有两种东西，一个是stack（栈内存），一个是heap（堆内存），stack里面有个特别重要的变量叫做global，在浏览器里面叫做window，他们是一样的都是同一个对象。window是一个对象，window就对应heap里面一块内存，window是一个哈希表，哈希表里面的东西分两部分，一部分就叫做<strong>标准库</strong>，另一部分叫做非标准库。</p>
</li>
<li><p>标准库包括哪些呢？比如Object()函数，这个函数也是个对象，它有一个key()属性，create()方法；还有String()函数，Nubmer()函数，Array()函数，Boolean()、Function()。</p>
<p>图示:<img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-8/11523085.jpg" alt=""></p>
</li>
</ul>
<h5 id="简单类型跟复杂类型加new与不加的区别"><a href="#简单类型跟复杂类型加new与不加的区别" class="headerlink" title="简单类型跟复杂类型加new与不加的区别"></a>简单类型跟复杂类型加new与不加的区别</h5><ul>
<li><p>给Object传什么它就会把它包装成一个什么对象,传给它一个1就把1包装成Number对象，给它一个字符串就包装成一个字符串对象，如果什么都不给就会生成一个空对象；对于Object来说加不加new都一样。如下图：<img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-9/33582031.jpg" alt=""></p>
</li>
<li><p>String是将给的东西变成一个字符串常量（非对象，基本类型），如果加new就会生成String对象如下图：<img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-9/12214723.jpg" alt=""></p>
</li>
<li><p>Number与String同理，给Number一个不能变成数字的东西变成NaN，给一个可以变的变成number常量，如果加了new就会返回一个number对象。如下图：<img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-9/90343838.jpg" alt=""></p>
</li>
<li><p>Boolean会把提供的任何东西变成一个布尔值，另外记住5个falsy值(0、NaN、’’、null、undefined)，new Boolean则会返回一个Boolean 对象如下图:<img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-9/11213113.jpg" alt=""></p>
</li>
<li><p>所以除了Object加或者不加new没区别，其余的类型加new都会返回一个相应的对象。</p>
</li>
<li><h5 id="总结，全局变量分两种，一种是对应的原本是七种数据类型中的基本类型（number、string、boolean）（null、undefined没有构造函数）；另一种跟对象相关的obejct（包括两种特殊的obejct，array和function）；如果是基本类型对应的构造函数，加new与不加new的区别就是，不加new的时候返回一个基本类型，如果加了new返回一个复杂类型（对象）；如果是object复杂类型，加new不加new是一样的。都返回一个对象。"><a href="#总结，全局变量分两种，一种是对应的原本是七种数据类型中的基本类型（number、string、boolean）（null、undefined没有构造函数）；另一种跟对象相关的obejct（包括两种特殊的obejct，array和function）；如果是基本类型对应的构造函数，加new与不加new的区别就是，不加new的时候返回一个基本类型，如果加了new返回一个复杂类型（对象）；如果是object复杂类型，加new不加new是一样的。都返回一个对象。" class="headerlink" title="总结，全局变量分两种，一种是对应的原本是七种数据类型中的基本类型（number、string、boolean）（null、undefined没有构造函数）；另一种跟对象相关的obejct（包括两种特殊的obejct，array和function）；如果是基本类型对应的构造函数，加new与不加new的区别就是，不加new的时候返回一个基本类型，如果加了new返回一个复杂类型（对象）；如果是object复杂类型，加new不加new是一样的。都返回一个对象。"></a><strong>总结</strong>，全局变量分两种，一种是对应的原本是七种数据类型中的基本类型（number、string、boolean）（null、undefined没有构造函数）；另一种跟对象相关的obejct（包括两种特殊的obejct，array和function）；如果是基本类型对应的构造函数，加new与不加new的区别就是，不加new的时候返回一个基本类型，如果加了new返回一个复杂类型（对象）；如果是object复杂类型，加new不加new是一样的。都返回一个对象。<img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-9/4291338.jpg" alt=""></h5></li>
</ul>
<h5 id="新的API-Array"><a href="#新的API-Array" class="headerlink" title="新的API  Array"></a>新的API  Array</h5><p>Array是一个构造数组的<strong>全局对象</strong>(七种数据类型Nubmer、String、Boolean、Symbol、null、undefined、Object[Array、Function])</p>
<p><strong>创建数组：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f = [<span class="string">'a'</span>,<span class="string">'b'</span>]</span><br><span class="line"><span class="keyword">let</span> f = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">'a'</span>,<span class="string">'b'</span>)   <span class="comment">//两种写法等价</span></span><br></pre></td></tr></table></figure>
<p><strong>Array构造函数的两种用法：</strong>一个或者多个参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="built_in">Array</span>(<span class="number">3</span>)</span><br><span class="line"><span class="comment">//生成一个长度为给的数字(3)的数组，不含0,1，2，有三个undefined，第一个参数是长度</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="built_in">Array</span>(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line"><span class="comment">//当是一个参数的时候，第一个参数是长度，当有两个参数的时候，第一个参数不是长度，它是第一项</span></span><br></pre></td></tr></table></figure>
<hr>
<p>首先第一种用法<code>var a = Array(3)</code>，它会生成一个长度为3，每一个都是undefined的数组a[0]是undefined，a[1]是undefined，a[2]也是undefined；但是又不在a里面，也就是说a没有012，这时候最好画内存图，在研究数据的时候最好的方式就是画内存图。</p>
<p><strong>console图</strong>如下：</p>
<p><img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-9/55013552.jpg" alt=""></p>
<p><strong>内存图</strong>演示，当写<code>var a = Array(3)</code>的时候到底做了什么，在stack里面声明了一个地址，a指向这个地址（ADR99），heap对应的ADR99里面存了一个<code>length:3</code>以及一个<code>__proto__</code>指向<code>Array.prototype</code>（Array的公有属性）；也就是说当写<code>var a = Array(3)</code>的时候它生成了一个对象，这个对象里面写了一个<code>length:3</code>以及<code>--proto</code>指向公有属性（Array.prototype），公用属性里面还包括一些<code>push</code>、<code>shift</code>之类的函数。0，1，2，3并没有存到heap对应的ADR99中。内存图解如下：</p>
<p><img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-9/21878716.jpg" alt=""></p>
<p>再来重新看代码<code>a.length // 3</code>对应上图中的<code>length:3</code>,<code>a.push</code>函数也是存在的，因为可以在公用属性<code>__poroto__</code>找到，可以通过<code>console.dir(a)</code>把a打印出来。a的第一层只有<code>length: 3</code>以及<code>__poroto__:Array(0)</code>指向的一个哈希函数（<code>a.__proto__</code>等于等于<code>Array.prototype</code>(Array构造它的函数)）<img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-9/11724928.jpg" alt=""></p>
<hr>
<p>第二种用法<code>var a = Array(3,3)</code>，当有两个参数的时候，第一个参数不是长度，它是第一项</p>
<p>如图：<img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-9/5351149.jpg" alt=""></p>
<hr>
<p>所以<code>var a = Array(3)</code>和<code>var a = Array(3,3)</code>对应的东西并不相同，同样是3，同样的位置，同一个函数却因为参数个数不同而不相同，这叫做JS的不一致性，这也是JS的缺点所在如图：<img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-9/32443819.jpg" alt=""></p>
<hr>
<p>由于Array也属于Object，所以Array加不加new并没有区别。<img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-9/17324027.jpg" alt=""></p>
<h5 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h5><p>类比array的<code>var a = new Array(1,2,3)</code>与<code>var a = [1,2,3]</code>写法function也有可有有下面两种写法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b</span><br><span class="line">&#125;  <span class="comment">// f(1,2) 返回3</span></span><br><span class="line"><span class="comment">//上面可以用它的构造函数构造出来</span></span><br><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> Founction(<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'return a+b'</span>)  <span class="comment">//f(1,2)同样返回3</span></span><br></pre></td></tr></table></figure>
<p>函数有参数，必须有返回值<code>return a+b</code> 同时可以用它的构造函数构造出来。先传一个字符串表示<strong>第一个参数</strong>                 名字，再传一个字符串表示<strong>第二个参数</strong>名字，最后传一个字符串表示<strong>函数体</strong><code>&#39;return a+b&#39;</code></p>
<p>new Function的用法就是把所有东西变成字符串依次排开</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'return a+b'</span>)</span><br></pre></td></tr></table></figure>
<p><em>MDN语法</em></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Function</span> ([arg1[, arg2[, ...argN]],] functionBody)</span><br><span class="line"><span class="comment">//用[]标的叫做可选，意思是可以只传一个参数，两个参数或者N个参数，也可以不传参数只传函数体，另外加不加new没区别。</span></span><br></pre></td></tr></table></figure>
<h5 id="Function与function的区别"><a href="#Function与function的区别" class="headerlink" title="Function与function的区别"></a>Function与function的区别</h5><ul>
<li><p>function是关键字，是函数的意思，没有任何意义，同样的关键字还有(var、if、else等等)，下面举例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span>  <span class="comment">//声明一个变量</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>  <span class="comment">//声明一个a，a不一定是函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> //声明一个函数</span></span><br><span class="line"><span class="function"><span class="title">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;&#125; <span class="comment">//声明一个f，f一定是个函数</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Function是一个全局对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.Function</span><br><span class="line"><span class="built_in">window</span>.Object</span><br></pre></td></tr></table></figure>
</li>
<li><p>七种基本类型（number、string、boolean、symbol、null、undefined、object）的大小写无所谓，因为它们只是一个字符串，例如字符串它的英文是<code>string</code>用大写<code>String</code>表示也可以仅此而已。举例声明一个string</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> <span class="built_in">String</span>()   <span class="comment">//因为没有小写string这个关键字，所以用String，</span></span><br></pre></td></tr></table></figure>
<p><img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-9/48534517.jpg" alt=""></p>
<p>同理function就是表示函数的意思关键字，跟代码没有任何关系。声明函数必须用<code>function f</code></p>
</li>
<li><p>声明一个函数的两种方法，function跟Function都可以，记住分别怎么用就行了。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'x'</span>,<span class="string">'y'</span>,<span class="string">'x+y'</span>)  <span class="comment">//用一个变量去引用一个对象，另外new可以省略。</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>声明函数的几种方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">具名函数 </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x,y</span>)</span>&#123;      <span class="comment">//x,y是参数，可以没有</span></span><br><span class="line">	<span class="keyword">return</span> <span class="literal">undefined</span>  <span class="comment">//一定要有return，就算不写也会自动加一个undefined</span></span><br><span class="line">&#125;</span><br><span class="line">匿名函数 </span><br><span class="line"><span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line">Funtion                <span class="comment">//一般不用这个方法</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'x'</span>,<span class="string">'y'</span>,<span class="string">'x+y'</span>)</span><br><span class="line"><span class="comment">//前两种用关键字声明函数，最后面的是用全局对象在声明一个对象函数.</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>拆解</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span> <span class="comment">//变形成成下面</span></span><br><span class="line"><span class="keyword">var</span> a</span><br><span class="line">a = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;<span class="comment">//变形成下面,所以这是两句话,声明函数只有上面两种方法(关键字和new Function)</span></span><br><span class="line"><span class="keyword">var</span> f   <span class="comment">//先去声明一个f变量</span></span><br><span class="line">f = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;   <span class="comment">//然后让f等于一个匿名函数,内存图如下</span></span><br></pre></td></tr></table></figure>
<p><img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-9/256795.jpg" alt=""></p>
<p>如果现在让f=1那么就会将stack里面的A88地址擦掉换成1,中间的联系就会断掉,但是函数function(){}还在,f跟function没有任何关系.<code>var f = function(){}</code>是两步,一步是弄一个变量<code>f</code>一步是弄一个对象<code>function(){}</code>然后将它们联系起来,所以<code>var f = function(){}</code>不是一个语法,声明函数只有上面两种方法(关键字和new Function)<img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-9/98458059.jpg" alt=""></p>
</li>
<li><p>具名函数跟匿名函数的区别</p>
<p>具名函数一步做到初始化然后赋值,匿名函数是先声明一个变量<code>f</code>,然后再弄一个匿名函数,然后把变量<code>f</code>指向<code>function (){}</code>分两步.</p>
<hr>
<h5 id="数组-amp-a-forEach"><a href="#数组-amp-a-forEach" class="headerlink" title="数组&amp;a.forEach"></a>数组&amp;a.forEach</h5><p>​</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://firyuen.github.io/2018/06/18/js里的对象/" data-id="cjspvm413000q4dc98j1n324g" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JS里的类型" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/06/18/JS里的类型/" class="article-date">
  <time datetime="2018-06-18T06:42:11.000Z" itemprop="datePublished">2018-06-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/06/18/JS里的类型/">JS里的类型</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li><h5 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h5><ul>
<li>类型转换</li>
<li>各类型的API</li>
<li>内存图</li>
<li>深复制</li>
</ul>
</li>
<li><h5 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h5><ul>
<li><p>转字符串string（比调用toString()API更常用简单的方法）</p>
<ul>
<li><p>使用<code>+&#39;&#39;</code>或者<code>&#39;&#39;+</code>（即与空字符串相加）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> + <span class="string">''</span></span><br><span class="line"><span class="string">"1"</span></span><br><span class="line"></span><br><span class="line"><span class="literal">true</span> + <span class="string">''</span></span><br><span class="line"><span class="string">"true"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line">obj + <span class="string">''</span></span><br><span class="line"><span class="string">"[object Object]"</span></span><br><span class="line"></span><br><span class="line"><span class="literal">null</span> + <span class="string">''</span></span><br><span class="line"><span class="string">"null"</span></span><br><span class="line"></span><br><span class="line"><span class="literal">undefined</span> + <span class="string">''</span></span><br><span class="line"><span class="string">"undefined"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//+ ''的逻辑是如果发现左右任意一边有字符串，它就会尝试把另外一边也变成字符串；+号总是希望能得到两个字符串。</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>一个问题<code>1+&#39;1&#39;=?</code></p>
<p>解答:由于加号只能加相同类型的东西，所以它会尝试改变这个类型，<strong>优先会尝试把数字变成字符串</strong>，所以上面的的问题可以等价于<code>(1).toString()+&#39;1&#39;</code>所以结果是<code>&#39;11&#39;</code></p>
</li>
</ul>
</li>
<li><p>转布尔值boolean（比Boolean()全局方法更常用简单）</p>
<ul>
<li><p>用<code>!!</code>给任何东西取反两次就会得到一个布尔</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">!<span class="literal">true</span>   <span class="comment">//取反一次</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line">!!<span class="literal">true</span>	<span class="comment">//取反两次，根据这个得出新的方法，用任何东西给它取反两次就会得到一个布尔</span></span><br><span class="line"><span class="literal">true</span>	</span><br><span class="line"></span><br><span class="line">!! <span class="number">1</span>	<span class="comment">//number</span></span><br><span class="line"><span class="literal">true</span></span><br><span class="line"></span><br><span class="line">!! <span class="number">0</span>	<span class="comment">//number 0  false</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line"></span><br><span class="line">!! <span class="string">''</span>	<span class="comment">//空字符串   false</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line"></span><br><span class="line">!! <span class="string">'  '</span> <span class="comment">//非空字符串  </span></span><br><span class="line"><span class="literal">true</span></span><br><span class="line"></span><br><span class="line">!! &#123;&#125;   <span class="comment">//空对象</span></span><br><span class="line"><span class="literal">true</span></span><br><span class="line"></span><br><span class="line">!! &#123;<span class="attr">name</span>: <span class="string">'xiao'</span>&#125;   <span class="comment">//非空对象</span></span><br><span class="line"><span class="literal">true</span></span><br><span class="line"></span><br><span class="line">!! <span class="literal">null</span>			 <span class="comment">//null  false</span></span><br><span class="line"><span class="literal">false</span> </span><br><span class="line"></span><br><span class="line">!! <span class="literal">undefined</span>      <span class="comment">//undefined  false</span></span><br><span class="line"><span class="literal">false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>JS里面其它的值变成布尔的时候，只有<strong>五个</strong>特殊值（七种数据类型，symbol先不考虑剩下的六种,布尔变布尔false变false除外），number里面只有两个是false分别是<code>0</code>和<code>NaN</code>;string里面只有一个是false，只有空字符串<code>&#39;&#39;</code>;<code>null</code>只有一个值,它就是false；<code>undefined</code>也只有一个值，它是false;所有的object都是true包括数组跟函数.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">!! <span class="number">0</span>     <span class="comment">//数值0</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line">!! <span class="literal">NaN</span>   <span class="comment">//数值NaN</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line">!! <span class="string">''</span>    <span class="comment">//空字符串</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line">!! <span class="literal">null</span>  <span class="comment">//null</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line">!! <span class="literal">undefined</span>  <span class="comment">//undefined</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line"><span class="comment">//上面五个是 五个falsy(adj:假的,假值)值!</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>关于falsy值,falsy是在 Boolean 上下文中认定可转换为false的值;JavaScript在需要用到布尔类型值的上下文中使用强制类型转换将值转换为布尔值，比如：在条件语句或者循环语句中.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">false</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">null</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">undefined</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="number">0</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="literal">NaN</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="string">''</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="string">""</span>)</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">document</span>.all) [<span class="number">1</span>]</span><br><span class="line"><span class="comment">//严谨来说有上面8个</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>转number（把其它数据类型转成number）五种方法</p>
<ul>
<li><p><code>Number(&#39;1&#39;) === 1</code></p>
</li>
<li><p><code>parseInt(&#39;1&#39;,10) === 1</code>全局函数，把它变成整数，第二个参数表示进制，一般都要加上，如果没加上表示默认10进制.</p>
</li>
<li><p><code>parseFloat(&#39;1.23&#39;) === 1.23</code>把它变成浮点数，不用写第二个参数，因为它只有10进制。</p>
</li>
<li><p><code>&#39;1&#39;-0 === 1</code> 减0，任何一个东西减上一个0都会得到一个number，既有<code>parseInt</code>的功能也有<code>parseFloat</code>的功能，所以最常用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'1'</span>- <span class="number">0</span></span><br><span class="line"> <span class="number">1</span>                 <span class="comment">//减0</span></span><br><span class="line"><span class="string">'1.23'</span> - <span class="number">0</span></span><br><span class="line"> <span class="number">1.23</span>              <span class="comment">//减0</span></span><br></pre></td></tr></table></figure>
<p>但是上面的方法没有<code>parseInt</code>和<code>parseFloat</code>严谨,遇到特殊情况结果不同，如下图：<img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-17/59014222.jpg" alt=""><img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-17/66054381.jpg" alt=""></p>
<p>​</p>
</li>
<li><p><code>+ &#39;1&#39;=== 1</code>取正，<code>+</code>表示取它原本的值用数字表示。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">+ <span class="string">'1'</span></span><br><span class="line"><span class="number">1</span>                 <span class="comment">//取正，不是绝对值</span></span><br><span class="line">+ <span class="string">'.1'</span></span><br><span class="line"><span class="number">0.1</span>               <span class="comment">//取正</span></span><br><span class="line">+ <span class="string">'-1'</span></span><br><span class="line"><span class="number">-1</span>                <span class="comment">//取正</span></span><br><span class="line">-(- <span class="string">'-1'</span>)</span><br><span class="line"><span class="number">-1</span>                <span class="comment">//拓展，取-('-1')的负数</span></span><br></pre></td></tr></table></figure>
<p>图示：<img src="http://p0mf9ztbm.bkt.clouddn.com/17-12-17/74849596.jpg" alt=""></p>
<p>一般常见的面试考点都是考第二种<code>parseInt</code>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">'011'</span>)</span><br><span class="line"><span class="number">11</span>                       <span class="comment">//以前结果是9，因为0开头会被认为是8进制</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'011'</span>,<span class="number">8</span>)</span><br><span class="line"><span class="number">9</span>                        <span class="comment">//8进制</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'011'</span>,<span class="number">10</span>)</span><br><span class="line"><span class="number">11</span>                       <span class="comment">//10进制</span></span><br><span class="line">一些奇怪的考点:parse会从头开始能parse多少就parse多少，（这也是与减<span class="number">0</span>跟取正不同的地方）一旦不能parse它就返回。</span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'sss'</span>)</span><br><span class="line"><span class="literal">NaN</span>                     <span class="comment">//不存在的数字</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'1s'</span>)</span><br><span class="line"><span class="number">1</span>                       <span class="comment">//后面s不能parse了返回1</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'12s'</span>)</span><br><span class="line"><span class="number">12</span>                      <span class="comment">//后面s不能parse了返回12</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><h5 id="各类型的API"><a href="#各类型的API" class="headerlink" title="各类型的API"></a>各类型的API</h5><ul>
<li><p>转成string的API<code>toString()</code> 以及用String的全局方法<code>window.String()</code></p>
<ul>
<li>如果想让一个东西变成字符串，如果它能变成字符串,调用下toString就行。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="number">1</span></span><br><span class="line">n.toString()</span><br><span class="line"><span class="comment">//"1"     number转string</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="literal">true</span></span><br><span class="line">b.toString()</span><br><span class="line"><span class="comment">//"true"  boolean转string</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="literal">null</span></span><br><span class="line">a.toString()</span><br><span class="line"><span class="comment">// null转string语法错误，`Uncaught TypeError: Cannot read property(属性) 'toString' of null`,null没有toString这个API。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="literal">undefined</span></span><br><span class="line">c.toString()</span><br><span class="line"><span class="comment">//undefined转string语法错误，`Uncaught TypeError: Cannot read property 'toString' of undefined,同样的，undefined没有toString这个API。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> object = &#123;<span class="attr">name</span>:<span class="string">'xiao'</span>&#125;</span><br><span class="line">object.toString()</span><br><span class="line"><span class="comment">// "[object Object]" 有toString这个API，不过结果不是我们想要的，得到的是"[object Object]"，前面小写，后面大写。</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>console.log</code>其实也是用的上面的原理，理论上console.log只能接受字符串，console.log如果发现不是字符串就会调用toString函数，也叫做API。除了console.log很多其它的地方也会如此。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'xiao'</span>)</span><br><span class="line">xiao</span><br><span class="line"><span class="comment">//出来的结果没有引号包裹xiao，是因为浏览器打出的东西是瞎打的，</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>)  <span class="comment">//相当于console.log((1).toString())</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="comment">//虽然没加引号，其实是浏览器省略了。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;</span><br><span class="line">obj[<span class="string">'name'</span>] = <span class="number">1</span>  <span class="comment">//object默认的key是字符串，给的'name'也是字符串，所以打印出来是1。</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//obj&#123;name :1&#125;</span></span><br><span class="line"></span><br><span class="line">obj[<span class="number">2</span>] = <span class="number">2</span>		<span class="comment">//但是如果直接给obj一个数字为2的key，它会默认把数字2toString()成字符串，所以</span></span><br><span class="line"><span class="comment">//2				能打印出来2，obj里面也增加了一个字符串2的key。</span></span><br><span class="line"><span class="comment">//obj&#123;2: 2, name: 1&#125;</span></span><br><span class="line"></span><br><span class="line">obj[<span class="literal">true</span>] = <span class="number">3</span>		<span class="comment">//给一个布尔为true的key也是同样的道理，console.log会默认把true转成字符串</span></span><br><span class="line"><span class="comment">//3					 true。</span></span><br><span class="line"><span class="comment">//obj&#123;2: 2, name: 1, true: 3&#125;   //现在obj有三个key了，除了字符串'name'，数字2跟布尔true都是								   自动转换的。</span></span><br><span class="line"></span><br><span class="line">obj[&#123;&#125;] = <span class="number">4</span></span><br><span class="line"><span class="comment">//4</span></span><br><span class="line"><span class="comment">//obj&#123;2: 2,name: 1,true: 3,[object Object]:4&#125;  //道理同上，这里换成了对象调用toString()</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>window.String()</code>示例这个跟加号的功能一样强大,它是一个全局函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.String(<span class="number">1</span>)              <span class="comment">//number</span></span><br><span class="line"><span class="string">"1"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.String(<span class="literal">true</span>)			 <span class="comment">//boolean</span></span><br><span class="line"><span class="string">"true"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.String(&#123;&#125;)			 <span class="comment">//object</span></span><br><span class="line"><span class="string">"[object Object]"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.String(<span class="literal">null</span>)			 <span class="comment">//null</span></span><br><span class="line"><span class="string">"null"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.String(<span class="literal">undefined</span>)	 <span class="comment">//undefined</span></span><br><span class="line"><span class="string">"undefined"</span></span><br><span class="line"><span class="comment">// window.可以省略</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>转成boolean的全局函数<code>Boolean()</code>要大写开头</p>
<ul>
<li>下面示例</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Boolean</span>(<span class="number">1</span>)</span><br><span class="line"><span class="literal">true</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="number">2</span>)</span><br><span class="line"><span class="literal">true</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="number">0</span>) <span class="comment">//number 0，结果是false</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="string">''</span>) <span class="comment">//空字符串,结果是false</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="string">' '</span>) <span class="comment">//空格字符串</span></span><br><span class="line"><span class="literal">true</span>  </span><br><span class="line"><span class="built_in">Boolean</span>(<span class="string">'1'</span>) <span class="comment">//其它字符串都为true，因为里面有东西</span></span><br><span class="line"><span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="literal">null</span>)  <span class="comment">//null，结果是false</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="literal">undefined</span>) <span class="comment">//undefined，结果是false</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Boolean</span>(&#123;&#125;)  <span class="comment">//空对象，结果是true</span></span><br><span class="line"><span class="literal">true</span></span><br><span class="line"><span class="built_in">Boolean</span>(&#123;<span class="attr">name</span>:<span class="string">'xiao'</span>&#125;) <span class="comment">//只要是对象，结果都是true</span></span><br><span class="line"><span class="literal">true</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://firyuen.github.io/2018/06/18/JS里的类型/" data-id="cjspvm412000p4dc9ilkx6at3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>
</section>
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <a href="/" class="logo">firyuen&#39;Blog</a>
      &copy; 2019 firyuen<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    

<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.scrollLoading.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>